import{s as U,n as B,b as lt}from"../chunks/scheduler.e108d1fd.js";import{S as Y,i as F,g,s as C,h as _,j as w,y as V,c as I,f as d,k as h,a as D,x as c,z as nt,r as W,u as X,v as Z,d as tt,t as et,w as at,D as st,m as M,n as k,o as j}from"../chunks/index.2b52f78d.js";import{S as it}from"../chunks/strava.service.cffbef42.js";function K(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function rt(r){let t,l="<h3>Importing training data from Strava</h3>",a,n,u="<p>Importing training data from Strava can take a while. Please be patient.</p>";return{c(){t=g("div"),t.innerHTML=l,a=C(),n=g("div"),n.innerHTML=u,this.h()},l(e){t=_(e,"DIV",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-1mmesro"&&(t.innerHTML=l),a=I(e),n=_(e,"DIV",{class:!0,"data-svelte-h":!0}),V(n)!=="svelte-pmy5m0"&&(n.innerHTML=u),this.h()},h(){h(t,"class","modal-header"),h(n,"class","modal-body")},m(e,f){D(e,t,f),D(e,a,f),D(e,n,f)},d(e){e&&(d(t),d(a),d(n))}}}function ot(r){let t;return{c(){t=g("div"),this.h()},l(l){t=_(l,"DIV",{class:!0}),w(t).forEach(d),this.h()},h(){h(t,"class","loading loading-lg")},m(l,a){D(l,t,a)},d(l){l&&d(t)}}}function ct(r){let t,l,a,n="Strava",u,e,f='This application is powered by <a class="link" href="https://strava.com">Strava</a>',x,o,i="Von Strava laden",m,s,y,S,L;function P(p,T){return p[1]?ot:rt}let H=P(r),v=H(r);return{c(){t=g("div"),l=g("div"),a=g("h3"),a.textContent=n,u=C(),e=g("p"),e.innerHTML=f,x=C(),o=g("button"),o.textContent=i,m=C(),s=g("dialog"),y=g("div"),v.c(),this.h()},l(p){t=_(p,"DIV",{class:!0});var T=w(t);l=_(T,"DIV",{class:!0});var $=w(l);a=_($,"H3",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-3owe1v"&&(a.textContent=n),u=I($),e=_($,"P",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-191aaq0"&&(e.innerHTML=f),x=I($),o=_($,"BUTTON",{class:!0,"data-svelte-h":!0}),V(o)!=="svelte-ehflca"&&(o.textContent=i),$.forEach(d),T.forEach(d),m=I(p),s=_(p,"DIALOG",{id:!0,class:!0});var G=w(s);y=_(G,"DIV",{class:!0});var N=w(y);v.l(N),N.forEach(d),G.forEach(d),this.h()},h(){h(a,"class","card-title"),h(e,"class","my-4"),h(o,"class","btn btn-primary"),h(l,"class","card-body"),h(t,"class","card w-96 bg-base-100 shadow-xl"),h(y,"class","modal-box"),h(s,"id","import-training-modal"),h(s,"class","modal")},m(p,T){D(p,t,T),c(t,l),c(l,a),c(l,u),c(l,e),c(l,x),c(l,o),D(p,m,T),D(p,s,T),c(s,y),v.m(y,null),r[3](s),S||(L=nt(o,"click",r[2]),S=!0)},p(p,[T]){H!==(H=P(p))&&(v.d(1),v=H(p),v&&(v.c(),v.m(y,null)))},i:B,o:B,d(p){p&&(d(t),d(m),d(s)),v.d(),r[3](null),S=!1,L()}}}function dt(r,t,l){let a,n=!1,u=()=>{l(1,n=!0),a.showModal(),it.loadTrainingData().then(()=>{l(1,n=!1),a.close()})};function e(f){lt[f?"unshift":"push"](()=>{a=f,l(0,a)})}return[a,n,u,e]}class ut extends Y{constructor(t){super(),F(this,t,dt,ct,U,{})}}function ft(r){let t,l=`Seems to be pretty empty bro. Either you lazy af or didn&#39;t import. You can do so now with one of
	your <a class="link" href="/settings">integrations</a>`,a,n,u;return n=new ut({}),{c(){t=g("p"),t.innerHTML=l,a=C(),W(n.$$.fragment)},l(e){t=_(e,"P",{"data-svelte-h":!0}),V(t)!=="svelte-pybrwt"&&(t.innerHTML=l),a=I(e),X(n.$$.fragment,e)},m(e,f){D(e,t,f),D(e,a,f),Z(n,e,f),u=!0},p:B,i(e){u||(tt(n.$$.fragment,e),u=!0)},o(e){et(n.$$.fragment,e),u=!1},d(e){e&&(d(t),d(a)),at(n,e)}}}class mt extends Y{constructor(t){super(),F(this,t,null,ft,U,{})}}function Q(r,t,l){const a=r.slice();return a[1]=t[l],a}function R(r){let t,l,a=r[1].Name+"",n,u,e,f,x=r[1].Distance+"",o,i,m,s,y,S=r[1].MovingTime+"",L,P,H,v,p,T=r[1].TotalElevationGain+"",$,G,N,q;return{c(){t=g("div"),l=g("h2"),n=M(a),u=C(),e=g("p"),f=M("Distance: "),o=M(x),i=M(" meters"),m=C(),s=g("p"),y=M("Moving Time: "),L=M(S),P=M(" seconds"),H=C(),v=g("p"),p=M("Elevation Gain: "),$=M(T),G=M(" meters"),N=C(),this.h()},l(E){t=_(E,"DIV",{class:!0,key:!0});var b=w(t);l=_(b,"H2",{class:!0});var J=w(l);n=k(J,a),J.forEach(d),u=I(b),e=_(b,"P",{class:!0});var z=w(e);f=k(z,"Distance: "),o=k(z,x),i=k(z," meters"),z.forEach(d),m=I(b),s=_(b,"P",{class:!0});var A=w(s);y=k(A,"Moving Time: "),L=k(A,S),P=k(A," seconds"),A.forEach(d),H=I(b),v=_(b,"P",{class:!0});var O=w(v);p=k(O,"Elevation Gain: "),$=k(O,T),G=k(O," meters"),O.forEach(d),N=I(b),b.forEach(d),this.h()},h(){h(l,"class","text-xl font-semibold mb-2"),h(e,"class","text-gray-600 mb-2"),h(s,"class","text-gray-600 mb-2"),h(v,"class","text-gray-600 mb-2"),h(t,"class","bg-white rounded-lg shadow-md p-6"),h(t,"key",q=r[1].trainingId)},m(E,b){D(E,t,b),c(t,l),c(l,n),c(t,u),c(t,e),c(e,f),c(e,o),c(e,i),c(t,m),c(t,s),c(s,y),c(s,L),c(s,P),c(t,H),c(t,v),c(v,p),c(v,$),c(v,G),c(t,N)},p(E,b){b&1&&a!==(a=E[1].Name+"")&&j(n,a),b&1&&x!==(x=E[1].Distance+"")&&j(o,x),b&1&&S!==(S=E[1].MovingTime+"")&&j(L,S),b&1&&T!==(T=E[1].TotalElevationGain+"")&&j($,T),b&1&&q!==(q=E[1].trainingId)&&h(t,"key",q)},d(E){E&&d(t)}}}function ht(r){let t,l="Diary",a,n,u,e,f,x=K(r[0].trainings),o=[];for(let i=0;i<x.length;i+=1)o[i]=R(Q(r,x,i));return e=new mt({}),{c(){t=g("h1"),t.textContent=l,a=C(),n=g("div");for(let i=0;i<o.length;i+=1)o[i].c();u=C(),W(e.$$.fragment),this.h()},l(i){t=_(i,"H1",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-o9wa5x"&&(t.textContent=l),a=I(i),n=_(i,"DIV",{class:!0});var m=w(n);for(let s=0;s<o.length;s+=1)o[s].l(m);m.forEach(d),u=I(i),X(e.$$.fragment,i),this.h()},h(){h(t,"class","text-3xl mb-6"),h(n,"class","grid grid-cols-1 gap-6 md:grid-cols-2")},m(i,m){D(i,t,m),D(i,a,m),D(i,n,m);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(n,null);D(i,u,m),Z(e,i,m),f=!0},p(i,[m]){if(m&1){x=K(i[0].trainings);let s;for(s=0;s<x.length;s+=1){const y=Q(i,x,s);o[s]?o[s].p(y,m):(o[s]=R(y),o[s].c(),o[s].m(n,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=x.length}},i(i){f||(tt(e.$$.fragment,i),f=!0)},o(i){et(e.$$.fragment,i),f=!1},d(i){i&&(d(t),d(a),d(n),d(u)),st(o,i),at(e,i)}}}function vt(r,t,l){let{data:a}=t;return r.$$set=n=>{"data"in n&&l(0,a=n.data)},[a]}class bt extends Y{constructor(t){super(),F(this,t,vt,ht,U,{data:0})}}export{bt as component};
